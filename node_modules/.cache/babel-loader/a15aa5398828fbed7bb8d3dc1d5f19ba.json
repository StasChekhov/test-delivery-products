{"ast":null,"code":"import _objectSpread from\"/Users/staschekhov/Desktop/Probnoe/test-delivery-products/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/staschekhov/Desktop/Probnoe/test-delivery-products/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/staschekhov/Desktop/Probnoe/test-delivery-products/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/staschekhov/Desktop/Probnoe/test-delivery-products/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";// import PropTypes from \"prop-types\";\nimport s from\"./Delivery.module.css\";import{nanoid}from\"@reduxjs/toolkit\";// import { useDispatch } from \"react-redux\";\nimport{useAddDeliveryMutation,useGetDeliveryQuery}from\"redux/deliveryApi\";import*as API from\"../api/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function DeliveryForm(_ref){var formData=_ref.formData,isChange=_ref.isChange,onClose=_ref.onClose;//  const dispatch = useDispatch();\nvar _useState=useState(formData.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(formData.from),_useState4=_slicedToArray(_useState3,2),from=_useState4[0],setFrom=_useState4[1];var _useState5=useState(formData.to),_useState6=_slicedToArray(_useState5,2),to=_useState6[0],setTo=_useState6[1];var _useState7=useState(formData.radio),_useState8=_slicedToArray(_useState7,2),radio=_useState8[0],setRadio=_useState8[1];var _useState9=useState(formData.time),_useState10=_slicedToArray(_useState9,2),time=_useState10[0],setTime=_useState10[1];var _useState11=useState(formData.comment),_useState12=_slicedToArray(_useState11,2),comment=_useState12[0],setComment=_useState12[1];//  console.log(formData.id);\nvar _useGetDeliveryQuery=useGetDeliveryQuery(),_useGetDeliveryQuery$=_useGetDeliveryQuery.data,data=_useGetDeliveryQuery$===void 0?[]:_useGetDeliveryQuery$,error=_useGetDeliveryQuery.error,isLoading=_useGetDeliveryQuery.isLoading,refetch=_useGetDeliveryQuery.refetch;var _useAddDeliveryMutati=useAddDeliveryMutation(data),_useAddDeliveryMutati2=_slicedToArray(_useAddDeliveryMutati,2),addContact=_useAddDeliveryMutati2[0],result=_useAddDeliveryMutati2[1];//  const {} = useGetDeliveryByIdQuery(formData.id);\n//  const { updateMaterial } = useUpdateDeliveryMutation();\n//  console.log(updateMaterial);\nvar onSaveContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var contact;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:contact={name:name,from:from,to:to,radio:radio,time:time,comment:comment};if(!data.find(function(item){return item.name.toLowerCase()===contact.name.toLowerCase();})){_context.next=3;break;}return _context.abrupt(\"return\",alert(\"Contact \".concat(name,\" already exists\")));case 3:_context.next=5;return addContact({id:nanoid(),name:name,from:from,to:to,radio:radio,time:time,comment:comment});case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSaveContact(){return _ref2.apply(this,arguments);};}();var onUpdateMaterial=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fields){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return API.updateMaterial(_objectSpread({id:formData.id},fields));case 3:_context2.next=7;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);case 7:case\"end\":return _context2.stop();}}},_callee2,null,[[0,5]]);}));return function onUpdateMaterial(_x){return _ref3.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();if(!isChange){_context3.next=8;break;}_context3.next=4;return onUpdateMaterial({name:name,from:from,to:to,radio:radio,time:time,comment:comment});case 4:refetch();onClose();_context3.next=9;break;case 8:onSaveContact();case 9:setName(\"\");setFrom(\"\");setTo(\"\");setTime(\"\");case 13:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit(_x2){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,className:s.form,children:/*#__PURE__*/_jsxs(\"div\",{className:s.div,children:[/*#__PURE__*/_jsx(\"label\",{className:s.label,children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:s.input,id:nanoid(),type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},name:\"name\",pattern:\"^[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]+(([' -][a-zA-Z\\u0430-\\u044F\\u0410-\\u042F ])?[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]*)*$\",title:\"\\u0418\\u043C\\u044F \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0438\\u0437 \\u0431\\u0443\\u043A\\u0432, \\u0430\\u043F\\u043E\\u0441\\u0442\\u0440\\u043E\\u0444\\u0430, \\u0442\\u0438\\u0440\\u0435 \\u0438 \\u043F\\u0440\\u043E\\u0431\\u0435\\u043B\\u043E\\u0432. \\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \\u0438 \\u0442. \\u043F.\",required:true,placeholder:\"Ivan Dudka\"}),/*#__PURE__*/_jsx(\"label\",{className:s.label,children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{className:s.input,type:\"text\",value:from,onChange:function onChange(e){return setFrom(e.target.value);},name:\"name\",pattern:\"^[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]+(([' -][a-zA-Z\\u0430-\\u044F\\u0410-\\u042F ])?[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]*)*$\",title:\"\\u0418\\u043C\\u044F \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0438\\u0437 \\u0431\\u0443\\u043A\\u0432, \\u0430\\u043F\\u043E\\u0441\\u0442\\u0440\\u043E\\u0444\\u0430, \\u0442\\u0438\\u0440\\u0435 \\u0438 \\u043F\\u0440\\u043E\\u0431\\u0435\\u043B\\u043E\\u0432. \\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \\u0438 \\u0442. \\u043F.\",required:true,placeholder:\"City:\"}),/*#__PURE__*/_jsx(\"label\",{className:s.label,children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{className:s.input,type:\"text\",value:to,onChange:function onChange(e){return setTo(e.target.value);},name:\"name\",pattern:\"^[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]+(([' -][a-zA-Z\\u0430-\\u044F\\u0410-\\u042F ])?[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]*)*$\",title:\"\\u0418\\u043C\\u044F \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0438\\u0437 \\u0431\\u0443\\u043A\\u0432, \\u0430\\u043F\\u043E\\u0441\\u0442\\u0440\\u043E\\u0444\\u0430, \\u0442\\u0438\\u0440\\u0435 \\u0438 \\u043F\\u0440\\u043E\\u0431\\u0435\\u043B\\u043E\\u0432. \\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \\u0438 \\u0442. \\u043F.\",required:true,placeholder:\"City:\"}),/*#__PURE__*/_jsx(\"label\",{className:s.label,children:\"Choose type of your item:\"}),/*#__PURE__*/_jsxs(\"div\",{className:s.checks,children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"test1\",name:\"radio-group\",checked:radio===\"Gadgets\",onChange:function onChange(){return setRadio(\"Gadgets\");}}),/*#__PURE__*/_jsx(\"label\",{for:\"test1\",children:\"Gadgets\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"test2\",name:\"radio-group\",checked:radio===\"Drinks\",onChange:function onChange(){return setRadio(\"Drinks\");}}),/*#__PURE__*/_jsx(\"label\",{for:\"test2\",children:\"Drinks\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"test3\",name:\"radio-group\",checked:radio===\"Clothes\",onChange:function onChange(){return setRadio(\"Clothes\");}}),/*#__PURE__*/_jsx(\"label\",{for:\"test3\",children:\"Clothes\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"test3\",name:\"radio-group\",checked:radio===\"Apple\",onChange:function onChange(){return setRadio(\"Apple\");}}),/*#__PURE__*/_jsx(\"label\",{for:\"test3\",children:\"Other\"})]})]}),/*#__PURE__*/_jsx(\"label\",{className:s.label,children:\"Date of dispatch\"}),/*#__PURE__*/_jsx(\"input\",{type:\"datetime-local\",name:\"Startdate\",value:time,onChange:function onChange(e){return setTime(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{for:\"comment\",className:s.label,children:\"Comments:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"comment\",name:\"comment\",rows:\"4\",cols:\"50\",value:comment,onChange:function onChange(e){return setComment(e.target.value);},placeholder:\"Write some details\"}),isChange?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.buttonUpdate,children:\"Update\"}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.button,children:\"Add\"})]})})});}DeliveryForm.defaultProps={formData:{name:\"\",from:\"\",to:\"\",radio:\"\",time:\"\",comment:\"\"}};","map":{"version":3,"sources":["/Users/staschekhov/Desktop/Probnoe/test-delivery-products/src/components/DeliveryForm.jsx"],"names":["React","useState","s","nanoid","useAddDeliveryMutation","useGetDeliveryQuery","API","DeliveryForm","formData","isChange","onClose","name","setName","from","setFrom","to","setTo","radio","setRadio","time","setTime","comment","setComment","data","error","isLoading","refetch","addContact","result","onSaveContact","contact","find","item","toLowerCase","alert","id","onUpdateMaterial","fields","updateMaterial","handleSubmit","e","preventDefault","form","div","label","input","target","value","checks","buttonUpdate","button","defaultProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n// import PropTypes from \"prop-types\";\nimport s from \"./Delivery.module.css\";\nimport { nanoid } from \"@reduxjs/toolkit\";\n// import { useDispatch } from \"react-redux\";\nimport { useAddDeliveryMutation, useGetDeliveryQuery } from \"redux/deliveryApi\";\nimport * as API from \"../api/api\";\n\nexport default function DeliveryForm({ formData, isChange, onClose }) {\n //  const dispatch = useDispatch();\n const [name, setName] = useState(formData.name);\n\n const [from, setFrom] = useState(formData.from);\n const [to, setTo] = useState(formData.to);\n const [radio, setRadio] = useState(formData.radio);\n const [time, setTime] = useState(formData.time);\n const [comment, setComment] = useState(formData.comment);\n //  console.log(formData.id);\n\n const { data = [], error, isLoading, refetch } = useGetDeliveryQuery();\n const [addContact, result] = useAddDeliveryMutation(data);\n //  const {} = useGetDeliveryByIdQuery(formData.id);\n //  const { updateMaterial } = useUpdateDeliveryMutation();\n //  console.log(updateMaterial);\n\n const onSaveContact = async () => {\n  const contact = {\n   name,\n   from,\n   to,\n   radio,\n   time,\n   comment,\n  };\n\n  if (\n   data.find((item) => item.name.toLowerCase() === contact.name.toLowerCase())\n  ) {\n   return alert(`Contact ${name} already exists`);\n  }\n  await addContact({ id: nanoid(), name, from, to, radio, time, comment });\n };\n\n const onUpdateMaterial = async (fields) => {\n  try {\n   await API.updateMaterial({ id: formData.id, ...fields });\n  } catch (error) {}\n };\n\n const handleSubmit = async (e) => {\n  e.preventDefault();\n  if (isChange) {\n   // изменерие контакta\n   await onUpdateMaterial({ name, from, to, radio, time, comment });\n   refetch();\n\n   onClose();\n  } else {\n   onSaveContact();\n  }\n  setName(\"\");\n  setFrom(\"\");\n  setTo(\"\");\n  setTime(\"\");\n };\n\n return (\n  <>\n   <form onSubmit={handleSubmit} className={s.form}>\n    <div className={s.div}>\n     <label className={s.label}>Name</label>\n     <input\n      className={s.input}\n      id={nanoid()}\n      type=\"text\"\n      value={name}\n      onChange={(e) => setName(e.target.value)}\n      name=\"name\"\n      pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n      title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n      required\n      placeholder=\"Ivan Dudka\"\n     />\n     <label className={s.label}>From</label>\n     <input\n      className={s.input}\n      type=\"text\"\n      value={from}\n      onChange={(e) => setFrom(e.target.value)}\n      name=\"name\"\n      pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n      title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n      required\n      placeholder=\"City:\"\n     />\n     <label className={s.label}>To</label>\n     <input\n      className={s.input}\n      type=\"text\"\n      value={to}\n      onChange={(e) => setTo(e.target.value)}\n      name=\"name\"\n      pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n      title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n      required\n      placeholder=\"City:\"\n     />\n     <label className={s.label}>Choose type of your item:</label>\n     <div className={s.checks}>\n      <p>\n       <input\n        type=\"radio\"\n        id=\"test1\"\n        name=\"radio-group\"\n        checked={radio === \"Gadgets\"}\n        onChange={() => setRadio(\"Gadgets\")}\n       />\n       <label for=\"test1\">Gadgets</label>\n      </p>\n      <p>\n       <input\n        type=\"radio\"\n        id=\"test2\"\n        name=\"radio-group\"\n        checked={radio === \"Drinks\"}\n        onChange={() => setRadio(\"Drinks\")}\n       />\n       <label for=\"test2\">Drinks</label>\n      </p>\n      <p>\n       <input\n        type=\"radio\"\n        id=\"test3\"\n        name=\"radio-group\"\n        checked={radio === \"Clothes\"}\n        onChange={() => setRadio(\"Clothes\")}\n       />\n       <label for=\"test3\">Clothes</label>\n      </p>\n      <p>\n       <input\n        type=\"radio\"\n        id=\"test3\"\n        name=\"radio-group\"\n        checked={radio === \"Apple\"}\n        onChange={() => setRadio(\"Apple\")}\n       />\n       <label for=\"test3\">Other</label>\n      </p>\n     </div>\n\n     <label className={s.label}>Date of dispatch</label>\n     <input\n      type=\"datetime-local\"\n      name=\"Startdate\"\n      value={time}\n      onChange={(e) => setTime(e.target.value)}\n     />\n\n     <label for=\"comment\" className={s.label}>\n      Comments:\n     </label>\n     <textarea\n      id=\"comment\"\n      name=\"comment\"\n      rows=\"4\"\n      cols=\"50\"\n      value={comment}\n      onChange={(e) => setComment(e.target.value)}\n      placeholder=\"Write some details\"\n     ></textarea>\n     {isChange ? (\n      <button type=\"submit\" className={s.buttonUpdate}>\n       Update\n      </button>\n     ) : (\n      <button type=\"submit\" className={s.button}>\n       Add\n      </button>\n     )}\n    </div>\n   </form>\n  </>\n );\n}\n\nDeliveryForm.defaultProps = {\n formData: {\n  name: \"\",\n  from: \"\",\n  to: \"\",\n  radio: \"\",\n  time: \"\",\n  comment: \"\",\n },\n};\n"]},"metadata":{},"sourceType":"module"}