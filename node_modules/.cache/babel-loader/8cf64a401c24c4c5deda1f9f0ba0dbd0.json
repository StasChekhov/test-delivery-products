{"ast":null,"code":"import _slicedToArray from\"/Users/staschekhov/Desktop/React /HW7/contacts_phonebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import s from\"./Phonebook.module.css\";import{nanoid}from\"@reduxjs/toolkit\";// import { add } from \"../redux/clickSlice\";\nimport{useDispatch}from\"react-redux\";import{useAddContactMutation,useGetContactsQuery}from\"redux/contactsApi\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Phonebook(){var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),number=_useState4[0],setNumber=_useState4[1];var _useGetContactsQuery=useGetContactsQuery(),data=_useGetContactsQuery.data,error=_useGetContactsQuery.error,isLoading=_useGetContactsQuery.isLoading;var _useAddContactMutatio=useAddContactMutation(),_useAddContactMutatio2=_slicedToArray(_useAddContactMutatio,2),addContact=_useAddContactMutatio2[0],result=_useAddContactMutatio2[1];//  const contacts = useSelector((state) => state.myValue.contacts.items);\n//  const onChange = (e) => {\n//   const { name, value } = e.currentTarget;\n//   // eslint-disable-next-line default-case\n//   switch (name) {\n//    case \"name\":\n//     setName(value);\n//     break;\n//    case \"number\":\n//     setNumber(value);\n//     break;\n//   }\n//  };\nvar onSaveContact=function onSaveContact(){var contact={name:name,number:number};if(data.find(function(item){return item.name.toLowerCase()===contact.name.toLowerCase();})){return alert(\"Contact \".concat(name,\" already exists\"));}addContact({id:nanoid(),name:name,number:number});};var handleSubmit=function handleSubmit(e){e.preventDefault();onSaveContact();setName(\"\");setNumber(\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:s.div,children:[/*#__PURE__*/_jsx(\"label\",{className:s.label,children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:s.input,id:nanoid(),type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},name:\"name\",pattern:\"^[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]+(([' -][a-zA-Z\\u0430-\\u044F\\u0410-\\u042F ])?[a-zA-Z\\u0430-\\u044F\\u0410-\\u042F]*)*$\",title:\"\\u0418\\u043C\\u044F \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0438\\u0437 \\u0431\\u0443\\u043A\\u0432, \\u0430\\u043F\\u043E\\u0441\\u0442\\u0440\\u043E\\u0444\\u0430, \\u0442\\u0438\\u0440\\u0435 \\u0438 \\u043F\\u0440\\u043E\\u0431\\u0435\\u043B\\u043E\\u0432. \\u041D\\u0430\\u043F\\u0440\\u0438\\u043C\\u0435\\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \\u0438 \\u0442. \\u043F.\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:s.label,children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{className:s.input,type:\"tel\",value:number,onChange:function onChange(e){return setNumber(e.target.value);},name:\"number\",pattern:\"\\\\+?\\\\d{1,4}?[-.\\\\s]?\\\\(?\\\\d{1,3}?\\\\)?[-.\\\\s]?\\\\d{1,4}[-.\\\\s]?\\\\d{1,4}[-.\\\\s]?\\\\d{1,9}\",title:\"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0442\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\\u0430 \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0441\\u043E\\u0441\\u0442\\u043E\\u044F\\u0442\\u044C \\u0446\\u0438\\u0444\\u0440 \\u0438 \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0431\\u0435\\u043B\\u044B, \\u0442\\u0438\\u0440\\u0435, \\u043A\\u0440\\u0443\\u0433\\u043B\\u044B\\u0435 \\u0441\\u043A\\u043E\\u0431\\u043A\\u0438 \\u0438 \\u043C\\u043E\\u0436\\u0435\\u0442 \\u043D\\u0430\\u0447\\u0438\\u043D\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 +\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:s.button,children:\"Add contact\"})]})})});}// Phonebook.propTypes = {\n//  onAddContact: PropTypes.func.isRequired,\n// };","map":{"version":3,"sources":["/Users/staschekhov/Desktop/React /HW7/contacts_phonebook/src/components/Phonebook.jsx"],"names":["React","useState","s","nanoid","useDispatch","useAddContactMutation","useGetContactsQuery","Phonebook","dispatch","name","setName","number","setNumber","data","error","isLoading","addContact","result","onSaveContact","contact","find","item","toLowerCase","alert","id","handleSubmit","e","preventDefault","div","label","input","target","value","button"],"mappings":"8IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA,MAAOC,CAAAA,CAAP,KAAc,wBAAd,CACA,OAASC,MAAT,KAAuB,kBAAvB,CACA;AACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,qBAAT,CAAgCC,mBAAhC,KAA2D,mBAA3D,C,6IAEA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CACnC,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAEA,cAAwBH,QAAQ,CAAC,EAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAA4BT,QAAQ,CAAC,EAAD,CAApC,yCAAOU,MAAP,eAAeC,SAAf,eAEA,yBAAmCN,mBAAmB,EAAtD,CAAQO,IAAR,sBAAQA,IAAR,CAAcC,KAAd,sBAAcA,KAAd,CAAqBC,SAArB,sBAAqBA,SAArB,CACA,0BAA6BV,qBAAqB,EAAlD,gEAAOW,UAAP,2BAAmBC,MAAnB,2BACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC3B,GAAMC,CAAAA,OAAO,CAAG,CACfV,IAAI,CAAJA,IADe,CAEfE,MAAM,CAANA,MAFe,CAAhB,CAKA,GACCE,IAAI,CAACO,IAAL,CAAU,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACZ,IAAL,CAAUa,WAAV,KAA4BH,OAAO,CAACV,IAAR,CAAaa,WAAb,EAAtC,EAAV,CADD,CAEE,CACD,MAAOC,CAAAA,KAAK,mBAAYd,IAAZ,oBAAZ,CACA,CACDO,UAAU,CAAC,CAAEQ,EAAE,CAAErB,MAAM,EAAZ,CAAgBM,IAAI,CAAJA,IAAhB,CAAsBE,MAAM,CAANA,MAAtB,CAAD,CAAV,CACA,CAZD,CAcA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC3BA,CAAC,CAACC,cAAF,GACAT,aAAa,GACbR,OAAO,CAAC,EAAD,CAAP,CACAE,SAAS,CAAC,EAAD,CAAT,CACA,CALD,CAOA,mBACC,sCACC,aAAM,QAAQ,CAAEa,YAAhB,uBACC,aAAK,SAAS,CAAEvB,CAAC,CAAC0B,GAAlB,wBACC,cAAO,SAAS,CAAE1B,CAAC,CAAC2B,KAApB,kBADD,cAEC,cACC,SAAS,CAAE3B,CAAC,CAAC4B,KADd,CAEC,EAAE,CAAE3B,MAAM,EAFX,CAGC,IAAI,CAAC,MAHN,CAIC,KAAK,CAAEM,IAJR,CAKC,QAAQ,CAAE,kBAACiB,CAAD,QAAOhB,CAAAA,OAAO,CAACgB,CAAC,CAACK,MAAF,CAASC,KAAV,CAAd,EALX,CAMC,IAAI,CAAC,MANN,CAOC,OAAO,CAAC,wHAPT,CAQC,KAAK,CAAC,icARP,CASC,QAAQ,KATT,EAFD,cAaC,cAAO,SAAS,CAAE9B,CAAC,CAAC2B,KAApB,mBAbD,cAcC,cACC,SAAS,CAAE3B,CAAC,CAAC4B,KADd,CAEC,IAAI,CAAC,KAFN,CAGC,KAAK,CAAEnB,MAHR,CAIC,QAAQ,CAAE,kBAACe,CAAD,QAAOd,CAAAA,SAAS,CAACc,CAAC,CAACK,MAAF,CAASC,KAAV,CAAhB,EAJX,CAKC,IAAI,CAAC,QALN,CAMC,OAAO,CAAC,wFANT,CAOC,KAAK,CAAC,+hBAPP,CAQC,QAAQ,KART,EAdD,cAwBC,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAE9B,CAAC,CAAC+B,MAAnC,yBAxBD,GADD,EADD,EADD,CAkCA,CAED;AACA;AACA","sourcesContent":["import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Phonebook.module.css\";\nimport { nanoid } from \"@reduxjs/toolkit\";\n// import { add } from \"../redux/clickSlice\";\nimport { useDispatch } from \"react-redux\";\nimport { useAddContactMutation, useGetContactsQuery } from \"redux/contactsApi\";\n\nexport default function Phonebook() {\n const dispatch = useDispatch();\n\n const [name, setName] = useState(\"\");\n const [number, setNumber] = useState(\"\");\n\n const { data, error, isLoading } = useGetContactsQuery();\n const [addContact, result] = useAddContactMutation();\n //  const contacts = useSelector((state) => state.myValue.contacts.items);\n\n //  const onChange = (e) => {\n //   const { name, value } = e.currentTarget;\n //   // eslint-disable-next-line default-case\n //   switch (name) {\n //    case \"name\":\n //     setName(value);\n //     break;\n //    case \"number\":\n //     setNumber(value);\n //     break;\n //   }\n //  };\n\n const onSaveContact = () => {\n  const contact = {\n   name,\n   number,\n  };\n\n  if (\n   data.find((item) => item.name.toLowerCase() === contact.name.toLowerCase())\n  ) {\n   return alert(`Contact ${name} already exists`);\n  }\n  addContact({ id: nanoid(), name, number });\n };\n\n const handleSubmit = (e) => {\n  e.preventDefault();\n  onSaveContact();\n  setName(\"\");\n  setNumber(\"\");\n };\n\n return (\n  <>\n   <form onSubmit={handleSubmit}>\n    <div className={s.div}>\n     <label className={s.label}>Name</label>\n     <input\n      className={s.input}\n      id={nanoid()}\n      type=\"text\"\n      value={name}\n      onChange={(e) => setName(e.target.value)}\n      name=\"name\"\n      pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n      title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n      required\n     />\n     <label className={s.label}>Phone</label>\n     <input\n      className={s.input}\n      type=\"tel\"\n      value={number}\n      onChange={(e) => setNumber(e.target.value)}\n      name=\"number\"\n      pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n      title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n      required\n     />\n     <button type=\"submit\" className={s.button}>\n      Add contact\n     </button>\n    </div>\n   </form>\n  </>\n );\n}\n\n// Phonebook.propTypes = {\n//  onAddContact: PropTypes.func.isRequired,\n// };\n"]},"metadata":{},"sourceType":"module"}